<!DOCTYPE html>
<html>
<head>
    <title>Dati Aziendali - {{ ticker }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h2 {
            background-color: #f0f0f0;
            padding: 8px;
            border-left: 4px solid #0073e6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px 10px;
            text-align: left;
        }
        th {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Informazioni su {{ data.longName or ticker }}</h1>

    <form method="post">
        <label for="ticker">Ticker:</label>
        <input type="text" id="ticker" name="ticker" value="{{ ticker }}" required>
        <button type="submit">Cerca</button>
    </form>

    {% if data %}

        <h2>Dati Aziendali</h2>
        <table>
            <tr><th>Voce</th><th>Dato</th></tr>
            <tr><td>Nome corto</td><td>{{ data.shortName }}</td></tr>
            <tr><td>Nome lungo</td><td>{{ data.longName }}</td></tr>
            <tr><td>Paese</td><td>{{ data.country }}</td></tr>
            <tr><td>Settore</td><td>{{ data.sector }}</td></tr>
            <tr><td>Industria</td><td>{{ data.industry }}</td></tr>
            <tr><td>Dipendenti</td><td>{{ data.fullTimeEmployees }}</td></tr>
            <tr><td>Exchange</td><td>{{ data.exchange }}</td></tr>
            <tr><td>Stato mercato</td><td>{{ data.marketState }}</td></tr>
            <tr><td>Market Cap</td><td>{{ data.marketCap }}</td></tr>
        </table>

        <h2>Dirigenti (CEO/CFO)</h2>
        {% if data.companyOfficers %}
        <table>
            <tr><th>Nome</th><th>Ruolo</th></tr>
            {% for officer in data.companyOfficers %}
                <tr><td>{{ officer.name }}</td><td>{{ officer.title }}</td></tr>
            {% endfor %}
        </table>
        {% else %}
            <p>Nessuna informazione disponibile.</p>
        {% endif %}

        <h2>Descrizione Estesa</h2>
        <p>{{ data.longBusinessSummary }}</p>

        <h2>Dividendi & Prezzi Storici</h2>
        <table>
            <tr><th>Voce</th><th>Valore</th></tr>
            <tr><td>Dividend Rate</td><td>{{ data.dividendRate }}</td></tr>
            <tr><td>Dividend Yield</td><td>{{ data.dividendYield }}</td></tr>
            <tr><td>Media 5 anni</td><td>{{ data.fiveYearAvgDividendYield }}</td></tr>
            <tr><td>Trailing Annual Dividend</td><td>{{ data.trailingAnnualDividendRate }}</td></tr>
            <tr><td>52W Min</td><td>{{ data.fiftyTwoWeekLow }}</td></tr>
            <tr><td>52W Max</td><td>{{ data.fiftyTwoWeekHigh }}</td></tr>
            <tr><td>Media 200 giorni</td><td>{{ data.twoHundredDayAverage }}</td></tr>
        </table>

    {% endif %}

    <a href="/">Torna alla Home</a>
</body>
</html>
